{% extends "oscar/checkout/layout.html" %}

{% load i18n %}
{% load widget_tweaks %}

{% block title %}
  {% trans "Checkout gateway" %} | {{ block.super }}
{% endblock title %}
{% block checkout_nav %}
  {% include "oscar/checkout/nav.html" with step=0 %}
{% endblock checkout_nav %}
{% block checkout_title %}
  {% trans "Who are you?" %}
{% endblock checkout_title %}
{% block content %}
  <form method="post" class="card card-body bg-light">
    {% csrf_token %}
    {{ form.non_field_errors }}
    {% include "oscar/partials/form_field.html" with field=form.username %}
    <div>
      <div class="controls">
        <div class="radio">{{ form.options.0 }}</div>
      </div>
    </div>
    <div class=" {% if form.password.errors %}error{% endif %}">
      {{ form.options.errors }}
      <div class="controls">
        <div class="radio">
          {{ form.options.2 }}
          <div class="hstack">
            {% render_field form.password class+="form-control me-sm-2" %}
            <small><a href="{% url "password-reset" %}" tabindex="-1">{% trans "Get a password reminder" %}</a></small>
            {% for error in form.password.errors %}<span class="text-danger">{{ error }}</span>{% endfor %}
          </div>
        </div>
      </div>
    </div>
    <div>
      <div class="controls">
        <div class="radio">{{ form.options.1 }}</div>
      </div>
    </div>
    <div>
      <div class="row">
        <div class="col-sm-3">
          <button type="submit"
                  class="btn btn-lg w-100 btn-primary"
                  data-loading-text="{% trans "Continuing..." %}">{% trans "Continue" %}</button>
        </div>
      </div>
    </div>
  </form>
{% endblock content %}
{% block onbodyload %}
  {{ block.super }}
  oscar.checkout.gateway.init();
{% endblock onbodyload %}
