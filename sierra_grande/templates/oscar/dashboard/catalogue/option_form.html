{% extends "oscar/dashboard/layout.html" %}

{% load i18n static crispy_forms_tags%}

{% block extrastyles %}
  {{ block.super }}
  <link rel="stylesheet" type="text/x-scss" href="{% static "scss/dashboard/product.scss" %}" />
{% endblock extrastyles %}

{% block title %}
  {{ title }} | {{ block.super }}
{% endblock title %}
{% block body_class %}
  {{ block.super }} create-page
{% endblock body_class %}
{% block navbar %}
  {% if not is_popup %}{{ block.super }}{% endif %}
{% endblock navbar %}
{% block dashboard_nav %}
  {% if not is_popup %}{{ block.super }}{% endif %}
{% endblock dashboard_nav %}
{% block breadcrumbs %}
  {% if not is_popup %}
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="{% url 'dashboard:index' %}">{% translate "Dashboard" %}</a>
        </li>
        <li class="breadcrumb-item">
          <a href="{% url 'dashboard:catalogue-option-list' %}">{% translate "Options" %}</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">{{ title }}</li>
      </ol>
    </nav>
  {% endif %}
{% endblock breadcrumbs %}
{% block main_header_content %}
  {{ title }}
{% endblock main_header_content %}
{% block dashboard_content %}
  <form class="form-stacked "
        method="post"
        data-behaviour="tab-nav-errors">
    {% csrf_token %}
    <div class="card">
      <div class="card-header">
        <h4 class="card-title icon-link mb-0">
          <iconify-icon icon="bx:detail" width="1rem" height="1rem" aria-hidden="false"></iconify-icon>
          {% translate "Option details" %}
        </h4>
      </div>
      <div class="card-body">
        {% if is_popup %}<input type="hidden" name="{{ is_popup_var }}" value="{{ is_popup }}" />{% endif %}
        {% if to_field %}<input type="hidden" name="{{ to_field_var }}" value="{{ to_field }}" />{% endif %}
        {% block option_details %}
          {% crispy form %}
        {% endblock option_details %}
      </div>
    </div>
    {% block fixed_actions_group %}
      <div class="form-actions-fixed align-items-center bg-dark column-gap-4 fixed-bottom hstack justify-content-end p-3">
        <a class="btn btn-danger"
           href="#"
           {% if not is_popup %}onclick="window.history.go(-1);return false"{% else %}onclick="window.close();return false;"{% endif %}>
          {% translate "Cancel" %}
        </a>
        <button class="btn btn-primary" type="submit" data-loading-text="Saving...">{% translate "Save" %}</button>
      </div>
    {% endblock fixed_actions_group %}
  </form>
{% endblock dashboard_content %}


{% block extrascripts %}
  {{ block.super }}
  <script src="{% static "libs/choices/choices.min.js" %}" defer></script>
{% endblock extrascripts %}
