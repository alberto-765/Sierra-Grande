{% extends "oscar/dashboard/base.html" %}

{% load category_tags %}
{% load dashboard_tags %}
{% load i18n %}
{% load static %}

{% block title %}
  {% translate "Dashboard" %} | {{ block.super }}
{% endblock title %}
{% block layout %}
  {% block top_tagbar %}
    {% include "oscar/dashboard/partials/top_tagbar.html" %}
  {% endblock top_tagbar %}
  {% block sidebar %}
    {% include "oscar/dashboard/partials/sidebar.html" %}
  {% endblock sidebar %}
  <!-- Vertical Overlay-->
  <div class="vertical-overlay"></div>
  <div class="vstack">
    {% block topbar %}
      {% include "oscar/dashboard/partials/topbar.html" %}
    {% endblock topbar %}
    {% block main %}
      <div class="container-fluid">
        {% block breadcrumbs %}
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item active" aria-current="page">
                <a href="{% url "dashboard:index" %}">{% translate "Dashboard" %}</a>
              </li>
            </ol>
          </nav>
        {% endblock breadcrumbs %}
        <div class="vstack row-gap-4">
          {% include "oscar/dashboard/partials/alert_messages.html" %}
          {% block main_header %}
            <h2 class="mb-0">
              {% block main_header_content %}
              {% endblock main_header_content %}
            </h2>
          {% endblock main_header %}
          {% block content %}
            {% block dashboard_content %}
            {% endblock dashboard_content %}
          {% endblock content %}
        </div>
      </div>
    {% endblock main %}
    {% block footer %}
      {% include "oscar/dashboard/partials/footer.html" %}
    {% endblock footer %}
  </div>
{% endblock layout %}
{% block extrascripts %}
  {{ block.super }}
  <script src="{% static "oscar/js/oscar/dashboard.js" %}" defer></script>
  <script src="{% static "oscar/js/oscar/RelatedObjectLookups.js" %}" defer></script>
  <script src="{% static 'js/dashboard/inputmask.min.js' %}" defer></script>
{% endblock extrascripts %}
{% block onbodyload %}
  {{ block.super }}
  // This code is for show the tab or update url
  {% comment %} var url = document.location.toString();
  // Javascript to enable link to tab
  if (url.match("#")) {
  $('.bs-docs-sidenav a[href="#' + id + '"]').tab('show');
  }
  // Change hash for page-reload
  $(".nav-list a").on("shown.bs.tab", function (e) {
  window.location.hash = e.target.hash;
  }); {% endcomment %}
  options = {
  "languageCode": "{{ LANGUAGE_CODE }}"
  };
  oscar.dashboard.init(options);
{% endblock onbodyload %}
