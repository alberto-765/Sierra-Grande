{% load i18n %}

{% if session_offer.name %}
  <div class="card">
    <div class="card-header">{% translate "Offer summary" %}</div>
    <div class="card-body py-2 vstack row-gap-2">
      <div>
        <strong class="d-block">{% translate "Name" %}:</strong>
        {{ session_offer.name }}
      </div>
      {% if session_offer.description %}
        <div>
          <strong class="d-block">{% translate "Description" %}:</strong>
          {{ session_offer.description|safe|striptags|truncatewords:8 }}
        </div>
      {% endif %}
      <div>
        <strong class="d-block">{% translate "Type" %}:</strong>
        {{ session_offer.offer_type }}
      </div>
      <div class="d-flex justify-content-end mt-1">
        <a href="{% if session_offer.pk %}{% url 'dashboard:offer-metadata' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-metadata' %}{% endif %}"
           class="btn btn-outline-secondary">{% translate "Edit" %}</a>
      </div>
    </div>
  </div>
{% endif %}
{% if session_offer.benefit %}
  <div class="card">
    <div class="card-header">{% translate "Incentive" %}</div>
    <div class="card-body py-2 vstack row-gap-2">
      <div>
        <strong class="d-block">{% translate "Incentive" %}:</strong>
        {{ session_offer.benefit.description|safe }}
      </div>
      <div class="d-flex justify-content-end mt-1">
        <a href="{% if session_offer.pk %}{% url 'dashboard:offer-benefit' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-benefit' %}{% endif %}"
           class="btn btn-outline-secondary">{% translate "Edit" %}</a>
      </div>
    </div>
  </div>
{% endif %}
{% if session_offer.condition %}
  <div class="card">
    <div class="card-header">{% translate "Condition" %}</div>
    <div class="card-body py-2 vstack row-gap-2">
      <div>
        <strong class="d-block">{% translate "Condition" %}:</strong>
        {{ session_offer.condition.description|safe }}
      </div>
      <div class="d-flex justify-content-end mt-1">
        <a href="{% if session_offer.pk %}{% url 'dashboard:offer-condition' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-condition' %}{% endif %}"
           class="btn btn-outline-secondary">{% translate "Edit" %}</a>
      </div>
    </div>
  </div>
{% endif %}
{% if session_offer.pk %}
  <div class="card">
    <div class="card-header">{% translate "Restrictions" %}</div>
    <div class="card-body py-2">
      <div>
        <strong>{% translate "Restrictions" %}:</strong>
      </div>
      {% if offer.availability_restrictions %}
        <ul>
          {% for restriction in offer.availability_restrictions %}<li>{{ restriction.description }}</li>{% endfor %}
        </ul>
      {% else %}
        -
      {% endif %}
      <div class="d-flex justify-content-end">
        <a href="{% if session_offer.pk %}{% url 'dashboard:offer-restrictions' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-restrictions' %}{% endif %}"
           class="btn btn-outline-secondary">{% translate "Edit" %}</a>
      </div>
    </div>
  </div>
{% endif %}
</div>
