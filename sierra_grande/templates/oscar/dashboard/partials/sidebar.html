{% load static %}
{% load i18n %}
{% load dashboard_tags %}

{% block sidebar %}
  {% dashboard_navigation user as nav_items %}
  <!-- Left Sidebar Start app-menu navbar-menu-->
  <aside class="app-menu navbar-menu">
    <div id="scrollbar" >
      <div class="container-fluid">
        {% include "oscar/dashboard/partials/brand.html" %}

        <ul class="navbar-nav" id="navbar-nav">
          <li class="menu-title">
            <span>{% translate "Menu" %}</span>
          </li>
          {% for item in nav_items %}
            <li class="nav-item">
              <a class="nav-link menu-link" 
                {% if item.has_children and  item.is_heading %} href="#{{item.id_href}}" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="{{item.id_href}}" 
                {% else %} 
                   href="{{ item.url }}"
                {% endif %}
              >
                {% if item.icon %}
                  <iconify-icon icon="{{ item.icon }}" aria-hidden="true" width="1rem" height="1rem"></iconify-icon>
                {% endif %}
                <span>{{ item.label }}</span>
              </a>
              {% if item.has_children %}
                <div class="collapse menu-dropdown" id="{{item.id_href}}">
                  <ul class="nav nav-sm flex-column">
                    {% for subitem in item.children %}
                      <li class="nav-item">
                        <a class="nav-link" href="{{ subitem.url }}">
                          {% if subitem.icon %}
                            <iconify-icon icon="{{ subitem.icon }}" aria-hidden="true" width="1rem" height="1rem"></iconify-icon>
                          {% endif %}
                          {{ subitem.label }}
                        </a>
                      </li>
                    {% endfor %}
                  </ul>
                </div>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </aside>

  <!-- Vertical Overlay-->
  <div class="vertical-overlay"></div>
{% endblock sidebar %}
