{% extends "oscar/dashboard/reports/index.html" %}

{% load currency_filters %}
{% load i18n %}

{% block report %}
  {% if objects %}
    <div class="table-card table-responsive">
      <table class="table table-hover align-middle mb-0">
        <tr>
          <th>{% translate "Order number" %}</th>
          <th>{% translate "Name" %}</th>
          <th>{% translate "Email" %}</th>
          <th>{% translate "Total incl. tax" %}</th>
          <th>{% translate "Date placed" %}</th>
          <th></th>
        </tr>
        {% for order in objects %}
          <tr>
            <td>
              <a href="{% url 'dashboard:order-detail' order.number %}">{{ order.number }}</a>
            </td>
            <td>
              {% if order.user %}
                <a href="{% url 'dashboard:user-detail' order.user.id %}">{{ order.user.get_full_name|default:"-" }}</a>
              {% else %}
                -
              {% endif %}
            </td>
            <td>{{ order.email }}</td>
            <td>{{ order.total_incl_tax|currency:order.currency }}</td>
            <td>{{ order.date_placed }}</td>
            <td>
              <a class="btn btn-secondary"
                 href="{% url 'dashboard:order-detail' number=order.number %}">{% translate "View" %}</a>
            </td>
          </tr>
        {% endfor %}
      </table>
    </div>
    {% include "oscar/dashboard/partials/pagination.html" %}
  {% else %}
    <div>{% translate "No results found." %}</div>
  {% endif %}
{% endblock report %}
