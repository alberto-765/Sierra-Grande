{% extends "oscar/dashboard/reports/index.html" %}

{% load currency_filters %}
{% load i18n %}

{% block report %}
  {% if objects %}
    <div class="table-card table-responsive">
      <table class="table table-hover align-middle mb-0">
        <tr>
          <th>{% translate "Voucher code" %}</th>
          <th>{% translate "Added to a basket" %}</th>
          <th>{% translate "Used in an order" %}</th>
          <th>{% translate "Total discount" %}</th>
        </tr>
        {% for voucher in objects %}
          <tr>
            <td>
              <a href="{% url 'dashboard:voucher-stats' voucher.id %}">{{ voucher.code }}</a>
            </td>
            <td>{{ voucher.num_basket_additions }}</td>
            <td>{{ voucher.num_orders }}</td>
            <td>{{ voucher.total_discount|currency }}</td>
          </tr>
        {% endfor %}
      </table>
    </div>
    {% include "oscar/dashboard/partials/pagination.html" %}
  {% else %}
    <div>{% translate "No vouchers were used in this period" %}</div>
  {% endif %}
{% endblock report %}
