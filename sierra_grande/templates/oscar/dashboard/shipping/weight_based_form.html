{% extends "oscar/dashboard/layout.html" %}
{% load i18n currency_filters crispy_forms_tags static %}

{% block title %}
    {% if method %}
        {{ method.name }}
    {% else %}
        {% translate "Create a new shipping method" %}
    {% endif %}
    | {{ block.super }}
{% endblock title %}

{% block breadcrumbs %}
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'dashboard:index' %}">{% translate "Dashboard" %}</a></li>
            <li class="breadcrumb-item"><a href="{% url 'dashboard:shipping-method-list' %}">{% translate "Shipping methods" %}</a></li>
            {% if method %}
                <li class="breadcrumb-item">{{ method.name }}</li>
                <li class="breadcrumb-item active" aria-current="page">{% translate "Edit" %}</li>
            {% else %}
                <li class="breadcrumb-item active" aria-current="page">{% translate "Create a new shipping method" %}</li>
            {%  endif %}
        </ol>
    </nav>
{% endblock breadcrumbs %}

{% block main_header_content %}
    {% if method %}
        {{ method.name }}
    {% else %}
        {% translate "Create a new shipping method" %}
    {% endif %}
{% endblock main_header_content %}

{% block dashboard_content %}
    <div class="card">
        <div class="card-header">
            <h4 class="card-title icon-link mb-0">
                <iconify-icon icon="bx:detail" width="1rem" height="1rem" aria-hidden="false"></iconify-icon>
                {% translate "Shipping details" %}
            </h4>
        </div>
        <form method="post" class="card-body">
            {% csrf_token %}
            {% crispy form %}

            {% block form_actions %}
                <div class="form-actions-fixed align-items-center bg-dark column-gap-4 fixed-bottom hstack justify-content-end p-3">
                    <a class="btn btn-danger" href="% url 'dashboard:shipping-method-list' %}">{% translate "Cancel" %}</a>
                    {% block form_actions_buttons %}
                        <button class="btn btn-primary" type="submit" data-loading-text="{% translate "Submitting..." %}">
                            {% block submittext %}
                                {% translate "Save" %}
                            {% endblock submittext %}
                        </button>
                    {% endblock form_actions_buttons %}
                </div>
            {% endblock form_actions %}
        </form>
    </div>
{% endblock dashboard_content %}

{% block extrascripts %}
  {{ block.super }}
  <script src="{% static "libs/choices/choices.min.js" %}" defer></script>
{% endblock extrascripts %}
